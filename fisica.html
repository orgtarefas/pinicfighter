<script>
// ================= MÃ“DULO: UTILITIES =================
class Utils {
    static colisao(a, b) {
        return a.x < b.x + b.w && 
               a.x + a.w > b.x && 
               a.y < b.y + b.h && 
               a.y + a.h > b.y;
    }
    
    static criarParticulas(ctx, x, y, quantidade, cor) {
        for (let i = 0; i < quantidade; i++) {
            const particula = {
                x: x + Math.random() * 20 - 10,
                y: y + Math.random() * 20 - 10,
                vx: Math.random() * 4 - 2,
                vy: Math.random() * -3 - 1,
                tamanho: Math.random() * 3 + 1,
                vida: 20,
                cor: cor
            };
            
            ctx.fillStyle = particula.cor;
            ctx.beginPath();
            ctx.arc(particula.x, particula.y, particula.tamanho, 0, Math.PI * 2);
            ctx.fill();
        }
    }
    
    static desenharBarra(ctx, x, y, largura, altura, valor, valorMax, corFundo, corBarra) {
        // Fundo
        ctx.fillStyle = corFundo;
        ctx.fillRect(x, y, largura, altura);
        
        // Barra
        ctx.fillStyle = corBarra;
        const larguraAtual = (valor / valorMax) * largura;
        ctx.fillRect(x, y, larguraAtual, altura);
        
        // Borda
        ctx.strokeStyle = "white";
        ctx.lineWidth = 2;
        ctx.strokeRect(x, y, largura, altura);
    }
    
    static desenharTexto(ctx, texto, x, y, tamanho = 16, cor = "white", alinhamento = "left") {
        ctx.fillStyle = cor;
        ctx.font = `${tamanho}px Arial`;
        ctx.textAlign = alinhamento;
        ctx.fillText(texto, x, y);
    }
    
    static desenharCirculo(ctx, x, y, raio, cor, linha = false, larguraLinha = 1) {
        if (linha) {
            ctx.strokeStyle = cor;
            ctx.lineWidth = larguraLinha;
            ctx.beginPath();
            ctx.arc(x, y, raio, 0, Math.PI * 2);
            ctx.stroke();
        } else {
            ctx.fillStyle = cor;
            ctx.beginPath();
            ctx.arc(x, y, raio, 0, Math.PI * 2);
            ctx.fill();
        }
    }
    
    static desenharElipse(ctx, x, y, raioX, raioY, cor) {
        ctx.fillStyle = cor;
        ctx.beginPath();
        ctx.ellipse(x, y, raioX, raioY, 0, 0, Math.PI * 2);
        ctx.fill();
    }
}
</script>